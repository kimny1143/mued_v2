# Test Reports Directory

This directory contains automated test reports generated by the MCP test infrastructure.

## Report Types

### E2E Test Reports (`e2e-*.md`)
- Generated by `mued-playwright-e2e` MCP server
- Contains Playwright test execution results
- Includes test summary, failure details, and console output
- Files named with timestamp: `e2e-YYYY-MM-DDTHH-MM-SS.md`

### Unit Test Reports (`unit-*.md`)
- Generated by `mued-unit-test` MCP server
- Contains Vitest test execution results
- Includes coverage metrics and threshold warnings
- Files named with timestamp: `unit-YYYY-MM-DDTHH-MM-SS.md`

### Suite-Specific Reports (`e2e-suite-*.md`)
- Generated when running specific test suites
- Filtered by test categories (auth, booking, materials, dashboard)
- Files named: `e2e-suite-{suite}-YYYY-MM-DDTHH-MM-SS.md`

## Report Structure

Each report contains:

1. **Summary Section**
   - Generation timestamp
   - Test framework used
   - Total test count
   - Execution duration

2. **Results Table**
   - Passed/Failed/Skipped counts
   - Percentage breakdowns
   - Visual indicators (✅, ❌, ⏭️)

3. **Coverage Metrics** (Unit tests only)
   - Lines, Statements, Functions, Branches coverage
   - Threshold warnings (< 70%)
   - Covered/Total counts

4. **Failure Details**
   - Test name and file location
   - Error messages and stack traces
   - Line numbers where applicable

5. **Console Output**
   - Complete test runner output
   - Useful for debugging test failures

## Viewing Reports

### Markdown Reports
- Open `.md` files directly in your IDE or markdown viewer
- Reports are self-contained with all relevant information

### HTML Reports

#### E2E Tests (Playwright)
```bash
npx playwright show-report
```
Opens interactive HTML report with screenshots and traces

#### Unit Tests (Vitest)
```bash
open coverage/index.html     # macOS
xdg-open coverage/index.html # Linux
start coverage/index.html    # Windows
```
Opens coverage report with line-by-line coverage details

## Automated Generation

Reports are automatically generated when running tests through Claude Desktop:

1. **Run All E2E Tests**: `run_all_e2e_tests`
2. **Run Specific Test**: `run_specific_e2e_test`
3. **Run Test Suite**: `run_e2e_suite`
4. **Run Unit Tests**: `run_unit_tests`
5. **Run Test File**: `run_test_file`
6. **Generate Coverage**: `run_coverage_report`

## Report Retention

- Reports are kept indefinitely by default
- Older reports can be manually deleted if needed
- `.gitkeep` file ensures directory exists in version control
- Consider adding `*.md` to `.gitignore` if reports should not be committed

## Troubleshooting

### No Reports Generated
- Ensure MCP servers are properly configured in Claude Desktop
- Check that tests are actually running (not erroring immediately)
- Verify write permissions for this directory

### Incomplete Reports
- Check console output section for error details
- Ensure test framework (Playwright/Vitest) is properly installed
- Review test configuration files for issues

### Coverage Not Showing
- Run tests with coverage flag: `npx vitest run --coverage`
- Install coverage provider: `npm install -D @vitest/coverage-v8`
- Check `vitest.config.ts` for coverage configuration

## Best Practices

1. **Regular Review**: Check reports after each test run
2. **Track Trends**: Compare coverage over time
3. **Fix Failures First**: Address test failures before adding new tests
4. **Maintain Thresholds**: Keep coverage above 70% minimum
5. **Clean Old Reports**: Periodically remove outdated reports