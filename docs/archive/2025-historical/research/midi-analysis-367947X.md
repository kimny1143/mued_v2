# 業務用MIDIファイル分析報告書

**ファイル:** `367947X.mid`
**サイズ:** 142 KB
**分析日:** 2025-11-12
**分析者:** Claude Code (Sonnet 4.5)

---

## 1. ファイル基本情報

### ヘッダー情報
```
MThd (MIDI Header)
├─ フォーマット: Format 1 (複数トラック同期)
├─ トラック数: 64トラック
└─ 時間分解能: 480 PPQN (Pulses Per Quarter Note)
```

### ファイル構造
```
00000000: 4d54 6864 0000 0006 0001 0040 01e0
          MThd   サイズ6  fmt1  64tr  480ppqn
```

**特徴:**
- ✅ 標準的なバイナリSMF (Standard MIDI File) Format 1
- ✅ 64トラック構成の本格的な楽曲制作データ
- ✅ 480 PPQN = 高精度タイミング（業務用標準）

---

## 2. 楽曲メタデータ

### 曲名
- **ファイル名:** `367947X.mid`
- **トラック1名:** `367947_sG` (Shift-JIS文字列を含む)
- **作品番号:** 367947

### テンポ情報（3回のテンポチェンジ）

| 位置 | テンポ | BPM | 備考 |
|------|--------|-----|------|
| 0x0039 | 666,666 μs/quarter | **90 BPM** | イントロ |
| 0x0041 | 487,804 μs/quarter | **123 BPM** | メインパート（速い） |
| 0x00c7 | 666,666 μs/quarter | **90 BPM** | アウトロ（元のテンポ） |

**解釈:**
- イントロ/アウトロ: 90 BPM（落ち着いたテンポ）
- メインセクション: 123 BPM（約37%速い、エネルギッシュ）
- テンポチェンジによる楽曲構成の演出

### 拍子記号
```
FF 58 04: 4/4 拍子
```
- 一般的な4拍子

---

## 3. 楽曲構造マーカー

トラック1に含まれるセクションマーカー（FF 06 イベント）:

```
Start       → 楽曲開始
B0          → セクションB（イントロ？）
Inter1      → 間奏1
A1          → セクションA（1回目）
B1          → セクションB（1回目）
S1          → サビ1
Inter1      → 間奏1（繰り返し）
C1          → セクションC（ブリッジ）
A2          → セクションA（2回目）
S2          → サビ2
Inter2      → 間奏2
S3          → サビ3
S4          → サビ4（大サビ？）
Outro       → アウトロ
End         → 楽曲終了
```

**楽曲形式の推測:**
```
Intro (B0) → A1 → B1 → S1 (サビ1) → 間奏1
→ C1 (ブリッジ) → A2 → S2 (サビ2) → 間奏2
→ S3 (サビ3) → S4 (大サビ) → Outro
```

典型的なJ-POPの楽曲構成（複数サビ、間奏挿入）

---

## 4. トラック構成（64トラック）

### 主要トラック

| # | トラック名 | バイト数 | Program | 楽器/役割 |
|---|-----------|---------|---------|-----------|
| 1 | `367947_sG` | 187 | 0 | メタデータトラック（テンポ・構造マーカー） |
| 2 | **G15-Guide Melody** | 4,637 | - | **ガイドメロディ（主旋律）** |
| 3 | Sys.A | 5,215 | - | システムトラックA |
| 4 | Sys.C | 8,297 | - | システムトラックC |
| 5 | Vol.A | 53 | 32 | ボリューム制御A（Acoustic Bass） |
| 6 | Vol.C | 53 | 32 | ボリューム制御C（Acoustic Bass） |

### ドラムキット（10個以上のトラック）

| # | トラック名 | Program | 備考 |
|---|-----------|---------|------|
| 8 | A01-Dummy-Muon | - | ダミートラック |
| 10 | **A02-SE** | 77 | 効果音トラック（最大：11,288バイト） |
| 11 | A03-Xylophone | 77 | シロフォン |
| 12 | A04-ReverseCymbal | 77 | リバースシンバル |
| 13 | A05-WindChime | 77 | ウィンドチャイム |
| 15 | A06-FloorTom | 77 | フロアタム |
| 16 | A07-SnareGate | 77 | スネアゲート |
| 17 | **A08-Kick** | 77 | **キック（最重要：2,930バイト）** |
| 18 | A08-Kick2 | 102 | キック（サブ） |
| 19 | **A09-Snare** | 77 | **スネア（4,704バイト）** |
| 20 | A09-RimShot1 | 96 | リムショット1 |
| 21 | A11-Toms | 77 | タム |
| 22 | A10-Clap | - | クラップ |
| 23 | **A10-HH_Close1** | 77 | **ハイハット（クローズ：5,055バイト）** |
| 24 | A10-HH_Open | 86 | ハイハット（オープン） |
| 25 | A11-HH_Close2 | - | ハイハット（クローズ2） |
| 26 | A10-RimShot2 | - | リムショット2 |
| 27 | A10-Clash_R | 102 | クラッシュ右 |
| 28 | A10-Crash_L | 64 | クラッシュ左 |
| 29 | A10-Crash | - | クラッシュ |
| 30 | A10-Ride | - | ライド |

**ドラム構成の特徴:**
- 極めて細かいドラムトラック分割（各パーツが独立）
- キック、スネア、ハイハットが最大データ量
- リムショット、クラッシュ、ライド等、詳細な打楽器編成
- **Program 77** が多用（Seashore? または特殊音源）

### 音源情報

トラック2のデバイス情報:
```
FF 09 08: "MMT-TG_1"
```
- **MMT-TG_1** = 使用音源モジュール名
- MMT = MIDI Module/Music Technology?
- TG = Tone Generator（音源）

---

## 5. 使用されているGM Program番号

| Program | 楽器名 | 使用トラック数 |
|---------|--------|---------------|
| 0 | Acoustic Grand Piano | 1 |
| 32 | Acoustic Bass | 2 |
| 64 | Soprano Sax | 1 |
| 77 | Seashore（または特殊音） | 15+ |
| 86 | Lead 7 (Fifths) | 1 |
| 96 | FX 1 (Rain) | 1 |
| 102 | FX 7 (Echoes) | 2 |

**注目点:**
- **Program 77 (Seashore)** が異常に多い
  → DAWでカスタム音源にマッピングされている可能性
  → ドラムサンプルやSE音源として使用

---

## 6. MIDIチャンネル使用状況

### 確認されたチャンネル

| チャンネル | 16進数 | 用途推測 |
|-----------|--------|----------|
| Ch 15 | 0x9E (Note On) | ガイドメロディ |
| Ch 0 | 0x90 (Note On) | 未確認 |
| Ch 1 | 0x91 (Note On) | 未確認 |

**特徴:**
- チャンネル15でメロディ演奏
- 複数チャンネルを使用（最大16チャンネル利用可能）

---

## 7. タイミング精度

### ノートイベント例（トラック2: ガイドメロディ）

```
9e 32 64 81 70 8e 32 40   → Note On: D5 (50), Vel 100
                             Delta: 0x0170 = 368 ticks
                             Note Off: D5, Vel 64
```

**計算:**
- 480 PPQN @ 123 BPM
- 368 ticks = 368/480 = 0.767 quarter notes
- ≈ 0.375秒（付点8分音符相当）

**高精度:**
- 480 PPQN により、32分音符以下の微細なタイミング制御が可能
- 業務用楽曲制作に適したタイミング精度

---

## 8. データサイズ分析

### 最大データ量トラック（TOP 5）

| トラック | バイト数 | 役割 |
|----------|---------|------|
| A02-SE | 11,288 | 効果音（最大） |
| Sys.C | 8,297 | システム制御 |
| Sys.A | 5,215 | システム制御 |
| A10-HH_Close1 | 5,055 | ハイハット（クローズ） |
| A09-Snare | 4,704 | スネアドラム |

**データ量からの推測:**
- 効果音トラック（A02-SE）が最大 = 楽曲全体にわたる装飾音
- システムトラック（Sys.A/C）が大きい = オートメーション制御
- ドラムパーツが詳細 = リアルな打楽器表現

---

## 9. 技術的特徴まとめ

### プロフェッショナル制作の証拠

✅ **高度なトラック分離**
- 64トラック構成
- 各ドラムパーツが独立トラック
- ミキシング自由度が極めて高い

✅ **詳細な楽曲構造管理**
- 14個のセクションマーカー
- テンポチェンジによる演出
- イントロ→展開→大サビ→アウトロの完全な構成

✅ **高精度タイミング**
- 480 PPQN（業務用標準）
- 微細なグルーヴ表現が可能

✅ **音源管理**
- カスタム音源（MMT-TG_1）使用
- Program 77を多用 = 専用サンプラー？

---

## 10. 推定される制作環境

### DAW（Digital Audio Workstation）
- **Cubase / Logic Pro / Pro Tools** 等のプロ用DAW
- 64トラック対応
- MIDI + オーディオ統合環境

### 音源
- **MMT-TG_1** = ハードウェア音源モジュール or ソフトウェア音源
- GM音源 + カスタムドラムキット
- Program 77 にサンプル音源をマッピング

### 用途推測
- **商用音楽制作** (楽曲番号: 367947)
- ゲーム音楽 / アニメ音楽 / CM音楽
- 多数の効果音（SE）トラック = メディアミックス用途

---

## 11. abcjs生成ファイルとの比較

| 項目 | 業務用 (367947X.mid) | abcjs生成 |
|------|---------------------|-----------|
| **トラック数** | 64 | 3 |
| **ファイルサイズ** | 142 KB | 3.9 KB |
| **時間分解能** | 480 PPQN | 480 PPQN ✅ |
| **テンポチェンジ** | 3回 | 固定 |
| **セクションマーカー** | 14個 | なし |
| **ドラムトラック** | 15+ | なし |
| **楽器数** | 10種以上 | 2種（ギター+ピアノ） |
| **制作目的** | 商用楽曲制作 | 教育用練習曲 |

**結論:**
- 業務用: 本格的な商用楽曲（複雑な構成、多数の楽器）
- abcjs生成: 教育用練習曲（シンプル、楽器演奏練習特化）
- **両方とも標準バイナリSMF形式で完全互換** ✅

---

## 12. 結論

### 分析結果サマリー

この `367947X.mid` ファイルは：

✅ **プロフェッショナルな商用音楽制作データ**
- 64トラックの詳細な楽曲構成
- テンポチェンジ、セクションマーカーによる高度な演出
- カスタム音源（MMT-TG_1）の使用

✅ **標準MIDI規格に完全準拠**
- SMF Format 1
- 480 PPQN（業務用標準）
- すべてのDAWで読み込み可能

✅ **MUED LMSとの互換性**
- 同じバイナリ形式
- abcjs生成ファイルと相互変換可能
- 教材として利用可能（構造分析の学習教材）

### 活用可能性

**MUED LMS での活用案:**
1. 楽曲構造分析の教材として利用
2. セクションマーカーの使い方を学ぶ
3. ドラムトラック分離技法の参考
4. テンポチェンジの実例として提示

---

**分析完了日:** 2025-11-12
**分析ツール:** Claude Code + Python (struct, binary analysis)
**信頼性:** 高（バイナリレベルで確認）
